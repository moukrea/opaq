# Maintainer: moukrea <contact@moukrea.dev>
pkgname=opaq-bin
pkgver=VERSION_PLACEHOLDER
pkgrel=1
pkgdesc="Credential manager that keeps secrets out of terminals, agent context windows, shell histories, and command output"
arch=('x86_64' 'aarch64')
url="https://github.com/moukrea/opaq"
license=('MIT')
provides=('opaq')
conflicts=('opaq')

source_x86_64=("${url}/releases/download/${pkgver}/opaq-${pkgver}-linux-x86_64.tar.gz")
source_aarch64=("${url}/releases/download/${pkgver}/opaq-${pkgver}-linux-aarch64.tar.gz")
sha256sums_x86_64=('SHA256_X86_64_PLACEHOLDER')
sha256sums_aarch64=('SHA256_AARCH64_PLACEHOLDER')

package() {
    install -Dm755 opaq "${pkgdir}/usr/bin/opaq"
    install -Dm644 <(curl -sL "${url}/raw/refs/heads/main/LICENSE") "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
